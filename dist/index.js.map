{
  "version": 3,
  "sources": ["../src/array.ts", "../src/dom.ts", "../src/index.ts"],
  "sourcesContent": ["import { Any } from \"./index\";\n\nconst { max, min } = Math;\n\nfunction at(i: number, len: number) {\n  return min(i < 0 ? max(0, len + i) : i, len - 1);\n}\nfunction subarray<T>(A: arr<T>, i: number, len: number): arr<T> {\n  if (A.length == 0) return A;\n  if (i == 0 && len == A.length) return A;\n  if (A.data) {\n    const a = new arr<T>();\n    a.off = i + A.off;\n    a.length = len;\n    a.data = A.data;\n    Object.freeze(a);\n    return a;\n  } else {\n    const { left, right } = A;\n    if (!(left instanceof arr && right instanceof arr)) throw new TypeError();\n    if (i > left.length) return subarray(right, i - left.length, len);\n    if (i + len < left.length) return subarray(left, i, len);\n    const n = new arr<T>();\n    const l1 = left.length - i;\n    n.left = subarray(left, i, l1);\n    n.right = subarray(right, 0, len - l1);\n    n.length = len;\n    return n;\n  }\n}\nfunction concat<T>(l: arr<T>, r: arr<T>) {\n  const n = new arr<T>();\n  n.left = l;\n  n.right = r;\n  n.length = r.length + l.length;\n  return n;\n}\nexport function makeArr<T>(...v: T[]) {\n  const n = new arr<T>();\n  n.data = v;\n  n.length = v.length;\n  return n;\n}\nclass arr<T> {\n  left?: arr<T>;\n  right?: arr<T>;\n  data?: T[];\n  length = 0;\n  off = 0;\n  subarray(i: number, len: number) {\n    i = at(i, this.length);\n    len = min(this.length - i, len);\n    return subarray(this, i, len);\n  }\n  unshift(...item: T[]) {\n    if (item.length <= 0) return this;\n    return makeArr(...item).concat(this);\n  }\n  push(...item: T[]) {\n    if (item.length <= 0) return this;\n    return this.concat(makeArr(...item));\n  }\n  concat(n: arr<T>) {\n    return concat(this, n);\n  }\n  insert(i: number, ...item: T[]): arr<T> {\n    i = at(i, this.length);\n    if (i == 0) return this.unshift(...item);\n    if (i == this.length) return this.push(...item);\n    return subarray(this, 0, i).concat(\n      subarray(this, i, this.length - i).unshift(...item)\n    );\n  }\n  delete(i: number, len: number): arr<T> {\n    i = at(i, this.length);\n    const end = i + len;\n    const s = i == 0,\n      e = end >= this.length;\n    if (s && e) return nil as arr<T>;\n    if (s) return subarray(this, end, this.length - end);\n    if (e) return subarray(this, 0, i);\n    return subarray(this, 0, i).concat(subarray(this, end, this.length - end));\n  }\n  splice(i: number, delLen: number, ...item: T[]): arr<T> {\n    i = at(i, this.length);\n    const end = i + delLen;\n    const s = i == 0,\n      e = end >= this.length;\n    if (s && e) return nil as arr<T>;\n    if (s) return subarray(this, end, this.length - end).unshift(...item);\n    if (e) return subarray(this, 0, i).push(...item);\n    return subarray(this, 0, i)\n      .push(...item)\n      .concat(subarray(this, end, this.length - end));\n  }\n  set(i: number, v: T) {\n    return this.splice(i, 1, v);\n  }\n  at(i: number) {\n    let p = this as arr<T>;\n    if (i < 0) {\n      i += p.length;\n      if (i < 0) return;\n    } else {\n      if (i >= p.length) return;\n    }\n    while (p.left instanceof arr) {\n      const { left, right } = p;\n      if (left.length > i) p = left as arr<T>;\n      else {\n        p = right as arr<T>;\n        i -= left.length;\n      }\n    }\n    if (!p.data) throw new Error();\n    return p.data[i + p.off];\n  }\n  forEach(fn: (v: T, i: number) => void) {\n    let j = 0;\n    function f(p: arr<T>) {\n      if (p.data) {\n        for (let i = p.off, e = i + p.length; i < e; i++) {\n          fn(p.data[i], j++);\n        }\n      } else {\n        if (!(p.left instanceof arr && p.right instanceof arr))\n          throw new TypeError();\n        f(p.left);\n        f(p.right);\n      }\n    }\n    f(this);\n  }\n  // \u5224\u65AD\u6BCF\u4E2A\u5143\u7D20\u662F\u5426\u6EE1\u8DB3\u8981\u6C42\uFF0C\u5982\u679C\u6709\u4E00\u4E2A\u4E0D\u6EE1\u8DB3\u5219\u505C\u6B62\u904D\u5386\u8FD4\u56DEfalse\n  every(fn: (v: T, i: number) => boolean) {\n    let j = 0;\n    let stop = false;\n    function f(p: arr<T>) {\n      if (p.data) {\n        for (let i = p.off, e = i + p.length; i < e; i++) {\n          if (fn(p.data[i], j++) == false) {\n            stop = true;\n            return;\n          }\n        }\n      } else {\n        if (!(p.left instanceof arr && p.right instanceof arr))\n          throw new TypeError();\n        f(p.left);\n        if (!stop) f(p.right);\n      }\n    }\n    f(this);\n    return !stop;\n  }\n  forEachInRange(\n    start: number,\n    len: number,\n    fn: (v: T, i: number) => void | symbol\n  ) {\n    start = at(start, this.length);\n    len = min(this.length - start, len);\n    let j = start;\n    let stop = false;\n    function f(p: arr<T>, s: number, e: number) {\n      if (s == e) return;\n      if (p.data) {\n        let i = p.off;\n        const E = i + e;\n        i += s;\n        for (; i < E; i++)\n          if (fn(p.data[i], j++) == Stop) {\n            stop = true;\n            return;\n          }\n      } else {\n        if (!(p.left instanceof arr && p.right instanceof arr))\n          throw new TypeError();\n        const l = p.left,\n          r = p.right,\n          len = l.length;\n        if (s >= len) f(r, s - len, e - len);\n        else if (e <= len) f(l, s, e);\n        else {\n          f(l, s, len);\n          if (!stop) f(r, 0, e - len);\n        }\n      }\n    }\n    f(this, start, start + len);\n  }\n  forEachInRangeReversed(\n    end: number,\n    len: number,\n    fn: (v: T, i: number) => void | symbol\n  ) {\n    end = at(end, this.length) + 1;\n    const start = max(end - len, 0);\n    let j = end;\n    let stop = false;\n    function f(p: arr<T>, s: number, e: number) {\n      if (s == e) return;\n      if (p.data) {\n        s += p.off;\n        e += p.off - 1;\n        for (; e >= s; e--)\n          if (fn(p.data[e], j--) == Stop) {\n            stop = true;\n            return;\n          }\n      } else {\n        if (!(p.left instanceof arr && p.right instanceof arr))\n          throw new TypeError();\n        const l = p.left,\n          r = p.right,\n          len = l.length;\n        if (s >= len) f(r, s - len, e - len);\n        else if (e <= len) f(l, s, e);\n        else {\n          f(r, 0, e - len);\n          if (!stop) f(l, s, len);\n        }\n      }\n    }\n    f(this, start, end);\n  }\n  map<R>(fn: (v: T, i: number) => R): arr<R> {\n    const r: R[] = [];\n    r.length = this.length;\n    let j = 0;\n    function f(p: arr<T>) {\n      if (p.data) {\n        for (let i = p.off, e = i + p.length; i < e; i++)\n          r[j++] = fn(p.data[i], i);\n      } else {\n        if (!(p.left instanceof arr && p.right instanceof arr))\n          throw new TypeError();\n        f(p.left);\n        f(p.right);\n      }\n    }\n    f(this);\n    return makeArr(...r);\n  }\n  flat(): arr<T> {\n    const r: T[] = [];\n    r.length = this.length;\n    let j = 0;\n    function f(p: arr<T>) {\n      if (p.data) {\n        for (let i = p.off, e = i + p.length; i < e; i++) r[j++] = p.data[i];\n      } else {\n        if (!(p.left instanceof arr && p.right instanceof arr))\n          throw new TypeError();\n        f(p.left);\n        f(p.right);\n      }\n    }\n    f(this);\n    return makeArr(...r);\n  }\n  sort(fn: ((a: T, b: T) => number) | undefined) {\n    const r = this.flat();\n    (r.data as T[]).sort(fn);\n    return r;\n  }\n}\nconst nil = makeArr<Any>();\nexport type array<T> = arr<T>;\nexport const Stop = Symbol(\"Stop\");\n", "import {\n  compute,\n  State,\n  Compute,\n  Watcher,\n  Any,\n  watcher,\n  Signal,\n  state,\n} from \"./index\";\nimport { array } from \"./array\";\n\ninterface Kv<V> {\n  [key: string]: V;\n}\ntype Style = {\n  [K in Exclude<\n    keyof CSSStyleDeclaration,\n    | \"setProperty\"\n    | \"removeProperty\"\n    | \"item\"\n    | \"getPropertyValue\"\n    | \"getPropertyPriority\"\n    | typeof Symbol.iterator\n    | \"length\"\n    | \"parentRule\"\n  >]?: CSSStyleDeclaration[K];\n};\nclass ele {\n  name: string;\n  _events?:\n    | {\n        [K in keyof GlobalEventHandlersEventMap]?: (\n          e: GlobalEventHandlersEventMap[K]\n        ) => void;\n      }\n    | { unmount?: () => void };\n  _attr?: Kv<string | Signal<string> | (() => string)>;\n  _style?: { [k in keyof Style]?: string | Signal<string> | (() => string) };\n  _ref?: (dom: Element) => void;\n  dom?: Element;\n  children?: (ele | string | Signal<string> | (() => string))[];\n  constructor(name: string, children?: ele[\"children\"]) {\n    this.name = name;\n    this.children = children;\n  }\n  style(s: (typeof this)[\"_style\"]) {\n    this._style = s;\n    return this;\n  }\n  attr(attr: (typeof this)[\"_attr\"]) {\n    this._attr = attr;\n    return this;\n  }\n  on(on: typeof this._events) {\n    this._events = on;\n    return this;\n  }\n  ref(callback: (dom: Element) => void) {\n    this._ref = callback;\n    return this;\n  }\n  render(r: root): Element {\n    const el = document.createElement(this.name);\n    this.dom = el;\n    if (this._events)\n      for (const e in this._events) {\n        const f = this._events[e as keyof typeof this._events];\n        if (e === \"unmount\") r._addDestroyCallback(f);\n        else el.addEventListener(e, f);\n      }\n    if (this._attr)\n      for (const a in this._attr) {\n        const v = this._attr[a];\n        if (typeof v == \"function\") {\n          r._watch(\n            compute(() => {\n              el.setAttribute(a, v());\n            })\n          );\n        } else if (v instanceof Compute || v instanceof State) {\n          r._watch(\n            compute(() => {\n              el.setAttribute(a, v.v);\n            })\n          );\n        } else {\n          el.setAttribute(a, v);\n        }\n      }\n    if (this._style)\n      for (const n0 in this._style) {\n        const n = n0 as keyof typeof this._style;\n        const v = this._style[n];\n        if (typeof v == \"function\") {\n          r._watch(\n            compute(() => {\n              el.style[n] = v();\n            })\n          );\n        } else if (v instanceof Compute || v instanceof State) {\n          r._watch(\n            compute(() => {\n              el.style[n] = v.v;\n            })\n          );\n        } else {\n          el.style[n] = v as string;\n        }\n      }\n    if (this.children)\n      for (const n of this.children) {\n        if (typeof n == \"string\") {\n          const t = document.createTextNode(n);\n          el.appendChild(t);\n        } else if (typeof n == \"function\") {\n          const t = document.createTextNode(\"\");\n          r._watch(compute(() => (t.nodeValue = n())));\n          el.appendChild(t);\n        } else if (n instanceof State || n instanceof Compute) {\n          const t = document.createTextNode(\"\");\n          r._watch(compute(() => (t.nodeValue = n.v)));\n          el.appendChild(t);\n        } else {\n          el.appendChild(n.render(r));\n        }\n      }\n    this._ref?.(el);\n    return el;\n  }\n}\nconst l = new Set<Signal<Any>>();\nconst f = new Set<() => void>();\nlet req = false;\n\nfunction update() {\n  f.forEach((n) => n());\n  l.forEach((n) => n.v);\n  l.clear();\n  f.clear();\n  req = false;\n}\nfunction willUpdate(n: Signal<Any> | (() => void)) {\n  if (!req) {\n    req = true;\n    requestAnimationFrame(update);\n  }\n  if (typeof n == \"function\") f.add(n);\n  else l.add(n);\n}\nexport class root {\n  dom: Element;\n  #watcher = new Watcher();\n  #stateList: Signal<Any>[] = [];\n  _whenDestroy = [] as (() => void)[];\n  constructor(parentDom: Element | undefined, n: ele) {\n    this.#watcher.callback = willUpdate;\n    this.dom = n.render(this);\n    parentDom?.appendChild(this.dom);\n  }\n  _watch(s: Signal<Any>) {\n    this.#stateList.push(s);\n    this.#watcher.watch(s);\n  }\n  _addDestroyCallback(f: () => void) {\n    this._whenDestroy.push(f);\n  }\n  _destroy() {\n    this.#watcher.unwatch();\n    this._whenDestroy.forEach((f) => f());\n  }\n}\nfunction increaseSeq(arr: number[], prev: number[], res: number[]) {\n  res.length = 0;\n  prev.length = 0;\n  if (arr.length < 1) return res;\n  function set(i: number, v: number) {\n    for (let j = prev.length; j < i; j++) prev.push(-1);\n    prev[i] = v;\n  }\n  let i = 0;\n  const len = arr.length;\n  for (; i < len && arr[i] == -1; i++);\n  res[0] = i;\n  for (; i < len; i++) {\n    const v = arr[i];\n    if (v == -1) continue;\n    const j = res[res.length - 1];\n    if (arr[j] < v) {\n      set(i, j);\n      res.push(i);\n      continue;\n    }\n    let start = 0;\n    let end = res.length - 1;\n    let mid: number;\n    while (start < end) {\n      mid = (start + end) >> 1;\n      if (arr[res[mid]] < v) start = mid + 1;\n      else end = mid;\n    }\n    const k = start;\n    if (v < arr[res[k]]) {\n      if (k > 0) set(i, res[k - 1]);\n      res[k] = i;\n    }\n  }\n  i = res.length;\n  let pre = res[res.length - 1];\n  if (pre > arr.length) {\n    return res;\n  }\n  while (i-- > 0) {\n    res[i] = arr[pre];\n    pre = prev[pre];\n  }\n  return res;\n}\nconst tmp1: number[] = [],\n  tmp2: number[] = [],\n  tmp3: number[] = [];\nconst tmp4: ChildNode[] = [];\n/**\n * \u5217\u8868\u4E2D\u7684\u5143\u7D20\u4E0D\u80FD\u91CD\u590D!\n * \u63A8\u8350\u5BF9\u8C61\u4F5C\u4E3A\u5217\u8868\u5143\u7D20\uFF08signal[], object[]\uFF09\n */\nclass ForEachNode<T> extends ele {\n  list: Signal<T[] | array<T>>;\n  f: (v: T) => ele;\n  constructor(name: string, list: Signal<T[] | array<T>>, f: (v: T) => ele) {\n    super(name);\n    this.list = list;\n    this.f = f;\n  }\n  #vIdx = new Map<T, number>();\n  #roots = new Map<T, root>();\n  render(r: root): Element {\n    const el = super.render(r);\n    const list = this.list,\n      vi = this.#vIdx,\n      mapFn = this.f,\n      roots = this.#roots;\n    function update(): void {\n      const new2old = tmp1;\n      new2old.length = 0;\n      const l = list.v;\n      l.forEach((item) => {\n        const i = vi.get(item);\n        if (typeof i == \"number\") {\n          vi.set(item, -1);\n          new2old.push(i);\n        } else {\n          new2old.push(-1);\n        }\n      });\n      tmp4.length = 0;\n      const oldDomList = tmp4;\n      el.childNodes.forEach((v) => oldDomList.push(v));\n      vi.forEach((i, v) => {\n        if (i != -1) {\n          (roots.get(v) as root)._destroy();\n          roots.delete(v);\n          vi.delete(v);\n          el.removeChild(oldDomList[i]);\n        }\n      });\n      const res = increaseSeq(new2old, tmp2, tmp3);\n      let j = 0;\n      l.forEach((v, i) => {\n        const old = new2old[i],\n          next = res[j];\n        if (old == -1) {\n          const n = new root(void 0, mapFn(v));\n          roots.set(v, n);\n          if (i == l.length - 1) el.appendChild(n.dom);\n          else el.insertBefore(n.dom, oldDomList[next]);\n        } else if (old == next) j++;\n        else el.insertBefore(oldDomList[old], oldDomList[next]);\n        vi.set(v, i);\n      });\n      tmp1.length = 0;\n      tmp2.length = 0;\n      tmp3.length = 0;\n      tmp4.length = 0;\n    }\n    const w = watcher(() => {\n      willUpdate(update);\n    });\n    w.watch(list);\n    r._addDestroyCallback(() => {\n      w.unwatch();\n      this.#roots.forEach((r) => r._destroy());\n    });\n    update();\n    return el;\n  }\n}\nclass node extends ele {\n  _node;\n  _ele: ele;\n  _root?: root;\n  _watcher;\n  constructor(render: Signal<ele>) {\n    super(\"\");\n    this._node = render;\n    this._ele = render.v;\n    const update = () => {\n      const e = render.v;\n      this._ele = e;\n      this.name = e.name;\n      this._events = e._events;\n      this._attr = e._attr;\n      this._style = e._style;\n      this._ref = e._ref;\n      this.children = e.children;\n      this._root?._destroy();\n      this._root = new root(void 0, e);\n      if (this.dom) {\n        const p = this.dom.parentNode;\n        if (p) {\n          p.replaceChild(this._root.dom, this.dom);\n        }\n      }\n      this.dom = e.dom;\n    };\n    this._watcher = watcher(update);\n    this._watcher.watch(render);\n    update();\n  }\n  render(r: root) {\n    r._addDestroyCallback(() => {\n      this._root?._destroy();\n      this._watcher.unwatch();\n    });\n    return this.dom as Element;\n  }\n}\nexport function h(\n  name: string,\n  ...children: (ele | string | Signal<string> | (() => string))[]\n) {\n  return new ele(name, children);\n}\nexport function ForEach<T extends object>(\n  name: string,\n  list: Signal<T[] | array<T>>,\n  f: (v: T) => ele\n) {\n  const e = new ForEachNode<T>(name, list, f);\n  return e;\n}\nexport function ForIn<T extends object>(\n  name: string,\n  list: Signal<T[] | array<T>>,\n  f: (i: State<number>, v: T) => ele\n) {\n  let si = new WeakMap<T, State<number>>();\n  const e = new ForEachNode<T>(\n    name,\n    compute(() => {\n      let l = list.v;\n      l.forEach((v, i) => {\n        let s = si.get(v);\n        if (s) s.v = i;\n        else si.set(v, state(i));\n      });\n      return l;\n    }),\n    (v: T) => {\n      return f(si.get(v) as State<number>, v);\n    }\n  );\n  return e;\n}\nexport type ForEach<T> = ForEachNode<T>;\n// \uFF01\u4E0D\u8981\u7F13\u5B58\u5E76\u4F7F\u7528\u65E7\u8282\u70B9\uFF0C\u5F53\u8282\u70B9\u88AB\u79FB\u9664\u65F6\uFF0C\u4F1A\u6267\u884C destroy \u56DE\u6536\u8282\u70B9\uFF01\nexport function dynNode(ele: Signal<ele> | (() => ele)) {\n  if (typeof ele == \"function\") return new node(compute(ele));\n  return new node(ele);\n}\nexport type Ele = ele;\n", "import { array, makeArr, Stop } from \"./array\";\nimport { root, h, ForEach, ForIn, dynNode, Ele } from \"./dom\";\nexport { root, h, ForEach, ForIn, dynNode, makeArr, Stop };\nexport type { array, Ele };\n\nlet caller: Compute<Any> | undefined;\nfunction markAsDirty(n: signal) {\n  const l = n._Consumer;\n  for (const c of l) {\n    if (typeof c == \"number\") continue;\n    if (c == caller) throw new Error();\n    if (c._Dirty) continue;\n    c._Dirty = true;\n    markAsDirty(c);\n  }\n  const w = n._Watchers;\n  if (w)\n    if (w instanceof Array) w.forEach((w) => w._Func?.(n));\n    else w._Func?.(n);\n}\nexport class State<T extends Any> {\n  _Consumer: Compute<Any>[] = [];\n  _Watchers?: Watcher | Watcher[];\n  constructor(v: T) {\n    this.#v = v;\n    this.v = v;\n  }\n  #v: T;\n  get v() {\n    if (caller) caller._GetCallback(this);\n    return this.#v;\n  }\n  set v(v) {\n    if (this.#v == v) return;\n    this.#v = v;\n    try {\n      markAsDirty(this);\n    } catch {\n      throw new Error(\"Detected cycle in computations.\");\n    }\n  }\n}\n\nfunction update(c: Compute<Any>) {\n  if (!(c instanceof Compute) || !c._Dirty) return;\n  const l = c._Producer;\n  l.length = 0;\n  const pre = caller;\n  caller = c;\n  try {\n    c._v = c._Func();\n    c._Err = void 0;\n  } catch (e) {\n    c._Err = e as Error;\n  }\n  c._Dirty = false;\n  /* recover */\n  caller = pre;\n}\n\ntype BasicType = number | string | boolean;\nexport type Any =\n  | BasicType\n  | object\n  | undefined\n  | void\n  | null\n  | BasicType[]\n  | array<BasicType>;\nexport class Compute<T extends Any> {\n  _Consumer: Compute<Any>[] = [];\n  _Watchers?: Watcher | Watcher[];\n  _Func: () => T;\n  _Dirty = true;\n  constructor(func: () => T) {\n    this._Func = func;\n  }\n  _v?: T;\n  _Err?: Error;\n  _Producer: signal[] = [];\n  _GetCallback(producer: signal) {\n    let c = producer._Consumer;\n    if (c.indexOf(this) < 0) {\n      c.push(this);\n      this._Producer.push(producer);\n    }\n  }\n  get v() {\n    if (caller) caller._GetCallback(this);\n    update(this);\n    if (this._Err) throw this._Err;\n    return this._v as T;\n  }\n  get error() {\n    return this._Err;\n  }\n  get computation() {\n    return this._Func;\n  }\n}\nexport type Signal<T extends Any> = State<T> | Compute<T>;\ntype signal = State<Any> | Compute<Any>;\nfunction disconnect(n: signal) {\n  if (!(n instanceof Compute)) return;\n  const l = n._Producer;\n  for (const p of l) {\n    let i = p._Consumer.indexOf(n);\n    p._Consumer.splice(i, 1);\n    if (n instanceof Compute && !p._Watchers && p._Consumer.length == 0)\n      disconnect(p);\n  }\n  l.length = 0;\n}\nexport class Watcher {\n  _Func?: (n: signal) => void;\n  watchList = new Set<signal>();\n  watch(...s: signal[]) {\n    for (const n of s) {\n      const w = n._Watchers;\n      if (!w) n._Watchers = this;\n      else if (w instanceof Array) {\n        if (w.indexOf(this) > -1) continue;\n        w.push(this);\n      } else if (w != this) n._Watchers = [this, w];\n      if (n instanceof Compute) update(n);\n      this.watchList.add(n);\n    }\n  }\n  /**\n    If no arguments are passed, it will stop watching all states.\n   */\n  unwatch(...s: signal[]) {\n    for (const n of s.length > 0 ? s : this.watchList.values()) {\n      const w = n._Watchers;\n      if (!w) continue;\n      this.watchList.delete(n);\n      if (w instanceof Array) {\n        const i = w.indexOf(this);\n        if (i > -1) w.splice(i, 1);\n        if (w.length > 0) continue;\n      } else {\n        n._Watchers = void 0;\n      }\n      disconnect(n);\n    }\n  }\n  set callback(v) {\n    this._Func = typeof v == \"function\" ? v : void 0;\n  }\n  get callback() {\n    return this._Func;\n  }\n}\nexport function state<T extends Any>(v: T) {\n  const s = new State<T>(v);\n  return s;\n}\nexport function compute<T extends Any>(f: () => T) {\n  return new Compute<T>(f);\n}\nexport function watcher(callback: ((n: signal) => void) | undefined) {\n  const w = new Watcher();\n  w.callback = callback;\n  return w;\n}\n"],
  "mappings": "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",
  "names": ["max", "min", "at", "i", "len", "subarray", "A", "a", "arr", "left", "right", "n", "l1", "concat", "l", "r", "makeArr", "v", "_arr", "item", "end", "s", "e", "nil", "delLen", "p", "fn", "j", "f", "stop", "start", "E", "Stop", "ele", "name", "children", "s", "attr", "on", "callback", "r", "_a", "el", "e", "f", "a", "v", "compute", "Compute", "State", "n0", "n", "t", "l", "req", "update", "willUpdate", "_watcher", "_stateList", "root", "parentDom", "__privateAdd", "Watcher", "__privateGet", "increaseSeq", "arr", "prev", "res", "set", "i", "j", "len", "start", "end", "mid", "k", "pre", "tmp1", "tmp2", "tmp3", "tmp4", "_vIdx", "_roots", "ForEachNode", "list", "vi", "mapFn", "roots", "new2old", "item", "oldDomList", "old", "next", "w", "watcher", "node", "render", "p", "h", "ForEach", "ForIn", "si", "state", "dynNode", "caller", "markAsDirty", "n", "_a", "l", "c", "w", "_v", "State", "v", "__privateAdd", "__privateSet", "__privateGet", "update", "Compute", "pre", "e", "func", "producer", "disconnect", "p", "i", "Watcher", "s", "state", "compute", "f", "watcher", "callback"]
}
