{
  "version": 3,
  "sources": ["../src/array.ts", "../src/index.ts"],
  "sourcesContent": ["const { max, min } = Math;\n\nfunction at(i: number, len: number) {\n  return min(i < 0 ? max(0, len + i) : i, len - 1);\n}\nfunction subarray<T>(A: arr<T>, i: number, len: number): arr<T> {\n  if (A.length == 0) return A;\n  if (i == 0 && len == A.length) return A;\n  if (A.data) {\n    const a = new arr<T>();\n    a.off = i + A.off;\n    a.length = len;\n    a.data = A.data;\n    Object.freeze(a);\n    return a;\n  } else {\n    const { left, right } = A;\n    if (!(left instanceof arr && right instanceof arr)) throw new TypeError();\n    if (i > left.length) return subarray(right, i - left.length, len);\n    if (i + len < left.length) return subarray(left, i, len);\n    const n = new arr<T>();\n    const l1 = left.length - i;\n    n.left = subarray(left, i, l1);\n    n.right = subarray(right, 0, len - l1);\n    n.length = len;\n    return n;\n  }\n}\nfunction concat<T>(l: arr<T>, r: arr<T>) {\n  const n = new arr<T>();\n  n.left = l;\n  n.right = r;\n  n.length = r.length + l.length;\n  return n;\n}\nexport function makeArr<T>(...v: T[]) {\n  const n = new arr<T>();\n  n.data = v;\n  n.length = v.length;\n  return n;\n}\nclass arr<T> {\n  left?: arr<T>;\n  right?: arr<T>;\n  data?: T[];\n  length = 0;\n  off = 0;\n  subarray(i: number, len: number) {\n    i = at(i, this.length);\n    len = min(this.length - i, len);\n    return subarray(this, i, len);\n  }\n  unshift(...item: T[]) {\n    if (item.length <= 0) return this;\n    return makeArr(...item).concat(this);\n  }\n  push(...item: T[]) {\n    if (item.length <= 0) return this;\n    return this.concat(makeArr(...item));\n  }\n  concat(n: arr<T>) {\n    return concat(this, n);\n  }\n  insert(i: number, ...item: T[]): arr<T> {\n    i = at(i, this.length);\n    if (i == 0) return this.unshift(...item);\n    if (i == this.length) return this.push(...item);\n    return subarray(this, 0, i).concat(\n      subarray(this, i, this.length - i).unshift(...item)\n    );\n  }\n  delete(i: number, len: number): arr<T> {\n    i = at(i, this.length);\n    const end = i + len;\n    const s = i == 0,\n      e = end >= this.length;\n    if (s && e) return nil as arr<T>;\n    if (s) return subarray(this, end, this.length - end);\n    if (e) return subarray(this, 0, i);\n    return subarray(this, 0, i).concat(subarray(this, end, this.length - end));\n  }\n  splice(i: number, delLen: number, ...item: T[]): arr<T> {\n    i = at(i, this.length);\n    const end = i + delLen;\n    const s = i == 0,\n      e = end >= this.length;\n    if (s && e) return nil as arr<T>;\n    if (s) return subarray(this, end, this.length - end).unshift(...item);\n    if (e) return subarray(this, 0, i).push(...item);\n    return subarray(this, 0, i)\n      .push(...item)\n      .concat(subarray(this, end, this.length - end));\n  }\n  set(i: number, v: T) {\n    return this.splice(i, 1, v);\n  }\n  at(i: number) {\n    let p = this as arr<T>;\n    if (i < 0) {\n      i += p.length;\n      if (i < 0) return;\n    } else {\n      if (i >= p.length) return;\n    }\n    while (p.left instanceof arr) {\n      const { left, right } = p;\n      if (left.length > i) p = left as arr<T>;\n      else {\n        p = right as arr<T>;\n        i -= left.length;\n      }\n    }\n    if (!p.data) throw new Error();\n    return p.data[i + p.off];\n  }\n  forEach(fn: (v: T, i: number) => void) {\n    let j = 0;\n    function f(p: arr<T>) {\n      if (p.data) {\n        for (let i = p.off, e = i + p.length; i < e; i++) {\n          fn(p.data[i], j++);\n        }\n      } else {\n        if (!(p.left instanceof arr && p.right instanceof arr))\n          throw new TypeError();\n        f(p.left);\n        f(p.right);\n      }\n    }\n    f(this);\n  }\n  // \u5224\u65AD\u6BCF\u4E2A\u5143\u7D20\u662F\u5426\u6EE1\u8DB3\u8981\u6C42\uFF0C\u5982\u679C\u6709\u4E00\u4E2A\u4E0D\u6EE1\u8DB3\u5219\u505C\u6B62\u904D\u5386\u8FD4\u56DEfalse\n  every(fn: (v: T, i: number) => boolean) {\n    let j = 0;\n    let stop = false;\n    function f(p: arr<T>) {\n      if (p.data) {\n        for (let i = p.off, e = i + p.length; i < e; i++) {\n          if (fn(p.data[i], j++) == false) {\n            stop = true;\n            return;\n          }\n        }\n      } else {\n        if (!(p.left instanceof arr && p.right instanceof arr))\n          throw new TypeError();\n        f(p.left);\n        if (!stop) f(p.right);\n      }\n    }\n    f(this);\n    return !stop;\n  }\n  forEachInRange(\n    start: number,\n    len: number,\n    fn: (v: T, i: number) => void | symbol\n  ) {\n    start = at(start, this.length);\n    len = min(this.length - start, len);\n    let j = start;\n    let stop = false;\n    function f(p: arr<T>, s: number, e: number) {\n      if (s == e) return;\n      if (p.data) {\n        let i = p.off;\n        const E = i + e;\n        i += s;\n        for (; i < E; i++)\n          if (fn(p.data[i], j++) == Stop) {\n            stop = true;\n            return;\n          }\n      } else {\n        if (!(p.left instanceof arr && p.right instanceof arr))\n          throw new TypeError();\n        const l = p.left,\n          r = p.right,\n          len = l.length;\n        if (s >= len) f(r, s - len, e - len);\n        else if (e <= len) f(l, s, e);\n        else {\n          f(l, s, len);\n          if (!stop) f(r, 0, e - len);\n        }\n      }\n    }\n    f(this, start, start + len);\n  }\n  forEachInRangeReversed(\n    end: number,\n    len: number,\n    fn: (v: T, i: number) => void | symbol\n  ) {\n    end = at(end, this.length) + 1;\n    const start = max(end - len, 0);\n    let j = end;\n    let stop = false;\n    function f(p: arr<T>, s: number, e: number) {\n      if (s == e) return;\n      if (p.data) {\n        s += p.off;\n        e += p.off - 1;\n        for (; e >= s; e--)\n          if (fn(p.data[e], j--) == Stop) {\n            stop = true;\n            return;\n          }\n      } else {\n        if (!(p.left instanceof arr && p.right instanceof arr))\n          throw new TypeError();\n        const l = p.left,\n          r = p.right,\n          len = l.length;\n        if (s >= len) f(r, s - len, e - len);\n        else if (e <= len) f(l, s, e);\n        else {\n          f(r, 0, e - len);\n          if (!stop) f(l, s, len);\n        }\n      }\n    }\n    f(this, start, end);\n  }\n  map<R>(fn: (v: T, i: number) => R): arr<R> {\n    const r: R[] = [];\n    r.length = this.length;\n    let j = 0;\n    function f(p: arr<T>) {\n      if (p.data) {\n        for (let i = p.off, e = i + p.length; i < e; i++)\n          r[j++] = fn(p.data[i], i);\n      } else {\n        if (!(p.left instanceof arr && p.right instanceof arr))\n          throw new TypeError();\n        f(p.left);\n        f(p.right);\n      }\n    }\n    f(this);\n    return makeArr(...r);\n  }\n  flat(): arr<T> {\n    const r: T[] = [];\n    r.length = this.length;\n    let j = 0;\n    function f(p: arr<T>) {\n      if (p.data) {\n        for (let i = p.off, e = i + p.length; i < e; i++) r[j++] = p.data[i];\n      } else {\n        if (!(p.left instanceof arr && p.right instanceof arr))\n          throw new TypeError();\n        f(p.left);\n        f(p.right);\n      }\n    }\n    f(this);\n    return makeArr(...r);\n  }\n  sort(fn: ((a: T, b: T) => number) | undefined) {\n    const r = this.flat();\n    (r.data as T[]).sort(fn);\n    return r;\n  }\n}\nconst nil = makeArr<any>();\nexport type array<T> = arr<T>;\nexport const Stop = Symbol(\"Stop\");\n", "import { array, makeArr, Stop } from \"./array\";\nexport { makeArr, Stop };\nexport type { array };\n\nclass cycleError extends Error {\n  cycle?: signal[];\n}\nlet caller: Compute<any> | undefined;\nfunction markAsDirty(n: signal) {\n  const l = n._Consumer;\n  for (const c of l) {\n    if (c == caller) {\n      const e = new cycleError(\"Detected cycle in computations. \");\n      e.cycle = [c, n];\n      throw e;\n    }\n    if (c._Dirty) continue;\n    c._Dirty = true;\n    markAsDirty(c);\n  }\n  const w = n._Watchers;\n  if (w)\n    if (w instanceof Array) w.forEach((w) => w._Func?.(n));\n    else w._Func?.(n);\n}\ntype C = (Compute<any> | untrackCompute<any>)[];\nexport class State<T> {\n  _Consumer: C = [];\n  _Watchers?: Watcher | Watcher[];\n  constructor(v: T) {\n    this.#v = v;\n    this.v = v;\n  }\n  #v: T;\n  get v() {\n    if (caller) caller._GetCallback(this);\n    return this.#v;\n  }\n  set v(v) {\n    if (this.#v == v) return;\n    this.#v = v;\n    markAsDirty(this);\n  }\n}\n\nfunction update(c: Compute<any>) {\n  if (!(c instanceof Compute) || !c._Dirty) return;\n  const pre = caller;\n  caller = c;\n  try {\n    c._v = c._Func();\n    c._Err = void 0;\n  } catch (e) {\n    c._Err = e as Error;\n  }\n  c._Dirty = false;\n  /* recover */\n  caller = pre;\n}\n\nexport class Compute<T> {\n  _Consumer: C = [];\n  _Watchers?: Watcher | Watcher[];\n  _Func: () => T;\n  _Dirty = true;\n  constructor(func: () => T) {\n    this._Func = func;\n  }\n  _v?: T;\n  _Err?: Error;\n  _Producer: signal[] = [];\n  _GetCallback(producer: signal) {\n    let c = producer._Consumer;\n    if (c.indexOf(this) < 0) {\n      c.push(this);\n      this._Producer.push(producer);\n    }\n  }\n  get v() {\n    if (caller) caller._GetCallback(this);\n    update(this);\n    if (this._Err) throw this._Err;\n    return this._v as T;\n  }\n  get error() {\n    return this._Err;\n  }\n  get computation() {\n    return this._Func;\n  }\n}\nexport class untrackCompute<T> {\n  _Consumer: C = [];\n  _Producer: signal[];\n  _Watchers?: Watcher | Watcher[];\n  _Func: () => T;\n  _Dirty = true;\n  constructor(func: () => T, producer: signal[]) {\n    this._Func = func;\n    this._Producer = producer;\n  }\n  _v?: T;\n  _Err?: Error;\n  _tracking = false;\n  get v() {\n    if (caller instanceof Compute) caller._GetCallback(this);\n    connect(this);\n    if (this._Dirty) {\n      try {\n        this._v = this._Func();\n        this._Err = void 0;\n      } catch (e) {\n        this._Err = e as Error;\n      }\n      this._Dirty = false;\n    }\n    if (this._Err) throw this._Err;\n    return this._v as T;\n  }\n  get error() {\n    return this._Err;\n  }\n  get computation() {\n    return this._Func;\n  }\n}\nexport type Signal<T> = State<T> | Compute<T> | untrackCompute<T>;\ntype signal = Signal<any>;\nfunction connect(c: untrackCompute<any>) {\n  if (c._tracking) return;\n  c._tracking = true;\n  for (const n of c._Producer) n._Consumer.push(c);\n}\nfunction disconnect(n: signal) {\n  if (!(n instanceof Compute || n instanceof untrackCompute)) return;\n  const l = n._Producer;\n  for (const p of l) {\n    let i = p._Consumer.indexOf(n);\n    p._Consumer.splice(i, 1);\n    if (!p._Watchers && p._Consumer.length == 0) disconnect(p);\n  }\n  n._Dirty = true;\n  if (n instanceof Compute) {\n    l.length = 0;\n  } else if (n instanceof untrackCompute) {\n    n._tracking = false;\n  }\n}\nexport class Watcher {\n  _Func?: (n: signal) => void;\n  watchList = new Set<signal>();\n  watch(...s: signal[]) {\n    for (const n of s) {\n      const w = n._Watchers;\n      if (!w) {\n        n._Watchers = this;\n      } else if (w instanceof Array) {\n        if (w.indexOf(this) > -1) continue;\n        w.push(this);\n      } else if (w != this) {\n        n._Watchers = [this, w];\n      }\n      if (n instanceof Compute) update(n);\n      if (n instanceof untrackCompute) n.v;\n\n      this.watchList.add(n);\n    }\n  }\n  /**\n    If no arguments are passed, it will stop watching all states.\n   */\n  unwatch(...s: signal[]) {\n    for (const n of s.length > 0 ? s : this.watchList.values()) {\n      const w = n._Watchers;\n      if (!w) continue;\n      this.watchList.delete(n);\n      if (w instanceof Array) {\n        const i = w.indexOf(this);\n        if (i > -1) w.splice(i, 1);\n        if (w.length > 0) continue;\n      } else {\n        n._Watchers = void 0;\n      }\n      disconnect(n);\n    }\n  }\n  set callback(v) {\n    this._Func = typeof v == \"function\" ? v : void 0;\n  }\n  get callback() {\n    return this._Func;\n  }\n}\nexport function state<T>(v: T) {\n  const s = new State<T>(v);\n  return s;\n}\nexport function compute<T>(f: () => T, ...dependencies: signal[]) {\n  if (dependencies.length > 0) return new untrackCompute(f, dependencies);\n  else return new Compute<T>(f);\n}\nexport function watcher(callback: ((n: signal) => void) | undefined) {\n  const w = new Watcher();\n  w.callback = callback;\n  return w;\n}\n"],
  "mappings": "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",
  "names": ["max", "min", "at", "i", "len", "subarray", "A", "a", "arr", "left", "right", "n", "l1", "concat", "l", "r", "makeArr", "v", "_arr", "item", "end", "s", "e", "nil", "delLen", "p", "fn", "j", "f", "stop", "start", "E", "Stop", "cycleError", "caller", "markAsDirty", "n", "_a", "l", "c", "e", "w", "_v", "State", "v", "__privateAdd", "__privateSet", "__privateGet", "update", "Compute", "pre", "func", "producer", "untrackCompute", "connect", "disconnect", "p", "i", "Watcher", "s", "state", "compute", "f", "dependencies", "watcher", "callback"]
}
