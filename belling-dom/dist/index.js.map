{
  "version": 3,
  "sources": ["../src/index.ts"],
  "sourcesContent": ["import {\n  compute,\n  State,\n  Compute,\n  Watcher,\n  Any,\n  watcher,\n  Signal,\n  state,\n  array,\n} from \"belling\";\n\ninterface Kv<V> {\n  [key: string]: V;\n}\ntype Style = {\n  [K in Exclude<\n    keyof CSSStyleDeclaration,\n    | \"setProperty\"\n    | \"removeProperty\"\n    | \"item\"\n    | \"getPropertyValue\"\n    | \"getPropertyPriority\"\n    | typeof Symbol.iterator\n    | \"length\"\n    | \"parentRule\"\n  >]?: CSSStyleDeclaration[K];\n};\nclass ele {\n  name: string;\n  _events?:\n    | {\n        [K in keyof GlobalEventHandlersEventMap]?: (\n          e: GlobalEventHandlersEventMap[K]\n        ) => void;\n      }\n    | { unmount?: () => void };\n  _attr?: Kv<string | Signal<string> | (() => string)>;\n  _style?: { [k in keyof Style]?: string | Signal<string> | (() => string) };\n  _ref?: (dom: Element) => void;\n  dom?: Element;\n  children?: (ele | string | Signal<string> | (() => string))[];\n  constructor(name: string, children?: ele[\"children\"]) {\n    this.name = name;\n    this.children = children;\n  }\n  style(s: (typeof this)[\"_style\"]) {\n    this._style = s;\n    return this;\n  }\n  attr(attr: (typeof this)[\"_attr\"]) {\n    this._attr = attr;\n    return this;\n  }\n  on(on: typeof this._events) {\n    this._events = on;\n    return this;\n  }\n  ref(callback: (dom: Element) => void) {\n    this._ref = callback;\n    return this;\n  }\n  render(r: root): Element {\n    const el = document.createElement(this.name);\n    this.dom = el;\n    if (this._events)\n      for (const e in this._events) {\n        const f = this._events[e as keyof typeof this._events];\n        if (e === \"unmount\") r._addDestroyCallback(f);\n        else el.addEventListener(e, f);\n      }\n    if (this._attr)\n      for (const a in this._attr) {\n        const v = this._attr[a];\n        if (typeof v == \"function\") {\n          r._watch(\n            compute(() => {\n              el.setAttribute(a, v());\n            })\n          );\n        } else if (v instanceof Compute || v instanceof State) {\n          r._watch(\n            compute(() => {\n              el.setAttribute(a, v.v);\n            })\n          );\n        } else {\n          el.setAttribute(a, v);\n        }\n      }\n    if (this._style)\n      for (const n0 in this._style) {\n        const n = n0 as keyof typeof this._style;\n        const v = this._style[n];\n        if (typeof v == \"function\") {\n          r._watch(\n            compute(() => {\n              el.style[n] = v();\n            })\n          );\n        } else if (v instanceof Compute || v instanceof State) {\n          r._watch(\n            compute(() => {\n              el.style[n] = v.v;\n            })\n          );\n        } else {\n          el.style[n] = v as string;\n        }\n      }\n    if (this.children)\n      for (const n of this.children) {\n        if (typeof n == \"string\") {\n          const t = document.createTextNode(n);\n          el.appendChild(t);\n        } else if (typeof n == \"function\") {\n          const t = document.createTextNode(\"\");\n          r._watch(compute(() => (t.nodeValue = n())));\n          el.appendChild(t);\n        } else if (n instanceof State || n instanceof Compute) {\n          const t = document.createTextNode(\"\");\n          r._watch(compute(() => (t.nodeValue = n.v)));\n          el.appendChild(t);\n        } else {\n          el.appendChild(n.render(r));\n        }\n      }\n    this._ref?.(el);\n    return el;\n  }\n}\nconst l = new Set<Signal<Any>>();\nconst f = new Set<() => void>();\nlet req = false;\n\nfunction update() {\n  f.forEach((n) => n());\n  l.forEach((n) => n.v);\n  l.clear();\n  f.clear();\n  req = false;\n}\nfunction willUpdate(n: Signal<Any> | (() => void)) {\n  if (!req) {\n    req = true;\n    requestAnimationFrame(update);\n  }\n  if (typeof n == \"function\") f.add(n);\n  else l.add(n);\n}\nexport class root {\n  dom: Element;\n  #watcher = new Watcher();\n  #stateList: Signal<Any>[] = [];\n  _whenDestroy = [] as (() => void)[];\n  constructor(parentDom: Element | undefined, n: ele) {\n    this.#watcher.callback = willUpdate;\n    this.dom = n.render(this);\n    parentDom?.appendChild(this.dom);\n  }\n  _watch(s: Signal<Any>) {\n    this.#stateList.push(s);\n    this.#watcher.watch(s);\n  }\n  _addDestroyCallback(f: () => void) {\n    this._whenDestroy.push(f);\n  }\n  _destroy() {\n    this.#watcher.unwatch();\n    this._whenDestroy.forEach((f) => f());\n  }\n}\nfunction increaseSeq(arr: number[], prev: number[], res: number[]) {\n  res.length = 0;\n  prev.length = 0;\n  if (arr.length < 1) return res;\n  function set(i: number, v: number) {\n    for (let j = prev.length; j < i; j++) prev.push(-1);\n    prev[i] = v;\n  }\n  let i = 0;\n  const len = arr.length;\n  for (; i < len && arr[i] == -1; i++);\n  res[0] = i;\n  for (; i < len; i++) {\n    const v = arr[i];\n    if (v == -1) continue;\n    const j = res[res.length - 1];\n    if (arr[j] < v) {\n      set(i, j);\n      res.push(i);\n      continue;\n    }\n    let start = 0;\n    let end = res.length - 1;\n    let mid: number;\n    while (start < end) {\n      mid = (start + end) >> 1;\n      if (arr[res[mid]] < v) start = mid + 1;\n      else end = mid;\n    }\n    const k = start;\n    if (v < arr[res[k]]) {\n      if (k > 0) set(i, res[k - 1]);\n      res[k] = i;\n    }\n  }\n  i = res.length;\n  let pre = res[res.length - 1];\n  if (pre > arr.length) {\n    return res;\n  }\n  while (i-- > 0) {\n    res[i] = arr[pre];\n    pre = prev[pre];\n  }\n  return res;\n}\nconst tmp1: number[] = [],\n  tmp2: number[] = [],\n  tmp3: number[] = [];\nconst tmp4: ChildNode[] = [];\n/**\n * \u5217\u8868\u4E2D\u7684\u5143\u7D20\u4E0D\u80FD\u91CD\u590D!\n * \u63A8\u8350\u5BF9\u8C61\u4F5C\u4E3A\u5217\u8868\u5143\u7D20\uFF08signal[], object[]\uFF09\n */\nclass ForEachNode<T> extends ele {\n  list: Signal<T[] | array<T>>;\n  f: (v: T) => ele;\n  constructor(name: string, list: Signal<T[] | array<T>>, f: (v: T) => ele) {\n    super(name);\n    this.list = list;\n    this.f = f;\n  }\n  #vIdx = new Map<T, number>();\n  #roots = new Map<T, root>();\n  render(r: root): Element {\n    const el = super.render(r);\n    const list = this.list,\n      vi = this.#vIdx,\n      mapFn = this.f,\n      roots = this.#roots;\n    function update(): void {\n      const new2old = tmp1;\n      new2old.length = 0;\n      const l = list.v;\n      l.forEach((item) => {\n        const i = vi.get(item);\n        if (typeof i == \"number\") {\n          vi.set(item, -1);\n          new2old.push(i);\n        } else {\n          new2old.push(-1);\n        }\n      });\n      tmp4.length = 0;\n      const oldDomList = tmp4;\n      el.childNodes.forEach((v) => oldDomList.push(v));\n      vi.forEach((i, v) => {\n        if (i != -1) {\n          (roots.get(v) as root)._destroy();\n          roots.delete(v);\n          vi.delete(v);\n          el.removeChild(oldDomList[i]);\n        }\n      });\n      const res = increaseSeq(new2old, tmp2, tmp3);\n      let j = 0;\n      l.forEach((v, i) => {\n        const old = new2old[i],\n          next = res[j];\n        if (old == -1) {\n          const n = new root(void 0, mapFn(v));\n          roots.set(v, n);\n          if (i == l.length - 1) el.appendChild(n.dom);\n          else el.insertBefore(n.dom, oldDomList[next]);\n        } else if (old == next) j++;\n        else el.insertBefore(oldDomList[old], oldDomList[next]);\n        vi.set(v, i);\n      });\n      tmp1.length = 0;\n      tmp2.length = 0;\n      tmp3.length = 0;\n      tmp4.length = 0;\n    }\n    const w = watcher(() => {\n      willUpdate(update);\n    });\n    w.watch(list);\n    r._addDestroyCallback(() => {\n      w.unwatch();\n      this.#roots.forEach((r) => r._destroy());\n    });\n    update();\n    return el;\n  }\n}\nclass node extends ele {\n  _node;\n  _ele: ele;\n  _root?: root;\n  _watcher;\n  constructor(render: Signal<ele>) {\n    super(\"\");\n    this._node = render;\n    this._ele = render.v;\n    const update = () => {\n      const e = render.v;\n      this._ele = e;\n      this.name = e.name;\n      this._events = e._events;\n      this._attr = e._attr;\n      this._style = e._style;\n      this._ref = e._ref;\n      this.children = e.children;\n      this._root?._destroy();\n      this._root = new root(void 0, e);\n      if (this.dom) {\n        const p = this.dom.parentNode;\n        if (p) {\n          p.replaceChild(this._root.dom, this.dom);\n        }\n      }\n      this.dom = e.dom;\n    };\n    this._watcher = watcher(update);\n    this._watcher.watch(render);\n    update();\n  }\n  render(r: root) {\n    r._addDestroyCallback(() => {\n      this._root?._destroy();\n      this._watcher.unwatch();\n    });\n    return this.dom as Element;\n  }\n}\nexport function h(\n  name: string,\n  ...children: (ele | string | Signal<string> | (() => string))[]\n) {\n  return new ele(name, children);\n}\nexport function ForEach<T extends object>(\n  name: string,\n  list: Signal<T[] | array<T>>,\n  f: (v: T) => ele\n) {\n  const e = new ForEachNode<T>(name, list, f);\n  return e;\n}\nexport function ForIn<T extends object>(\n  name: string,\n  list: Signal<T[] | array<T>>,\n  f: (i: State<number>, v: T) => ele\n) {\n  let si = new WeakMap<T, State<number>>();\n  const e = new ForEachNode<T>(\n    name,\n    compute(() => {\n      let l = list.v;\n      l.forEach((v, i) => {\n        let s = si.get(v);\n        if (s) s.v = i;\n        else si.set(v, state(i));\n      });\n      return l;\n    }),\n    (v: T) => {\n      return f(si.get(v) as State<number>, v);\n    }\n  );\n  return e;\n}\nexport type ForEach<T> = ForEachNode<T>;\n// \uFF01\u4E0D\u8981\u7F13\u5B58\u5E76\u4F7F\u7528\u65E7\u8282\u70B9\uFF0C\u5F53\u8282\u70B9\u88AB\u79FB\u9664\u65F6\uFF0C\u4F1A\u6267\u884C destroy \u56DE\u6536\u8282\u70B9\uFF01\nexport function dynNode(ele: Signal<ele> | (() => ele)) {\n  if (typeof ele == \"function\") return new node(compute(ele));\n  return new node(ele);\n}\nexport type Ele = ele;\n"],
  "mappings": "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",
  "names": ["compute", "State", "Compute", "Watcher", "watcher", "state", "ele", "name", "children", "s", "attr", "on", "callback", "r", "_a", "el", "e", "f", "a", "v", "compute", "Compute", "State", "n0", "n", "t", "l", "req", "update", "willUpdate", "_watcher", "_stateList", "root", "parentDom", "__privateAdd", "Watcher", "__privateGet", "increaseSeq", "arr", "prev", "res", "set", "i", "j", "len", "start", "end", "mid", "k", "pre", "tmp1", "tmp2", "tmp3", "tmp4", "_vIdx", "_roots", "ForEachNode", "list", "vi", "mapFn", "roots", "new2old", "item", "oldDomList", "old", "next", "w", "watcher", "node", "render", "p", "h", "ForEach", "ForIn", "si", "state", "dynNode"]
}
